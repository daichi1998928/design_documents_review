# ER図1
# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。
## 全体
- 管理人テーブルだけ色が異なる
- created_at, updated_atにあたるカラムが見当たらない
- リレーションにおいて、一方向から見た多重度しか書かれていない
- 「入荷」を管理するテーブルがない
## エンドユーザ
- 管理人IDをFKとして持っている
- 要件「現住所とは別に複数の配送先データをもつ」のためのテーブルがない
- 要件「退会状態を管理する」ために、レコードを削除するしかない
## 商品
- 管理人IDをFKとして持っている
- アーティスト名をカラムとして持っている
- レーベル名をカラムとして持っている
- ジャンルをカラムとして持っている
- 以上3つに関しては新しくテーブルを作って欲しい
- 「シングル・アルバム内の曲名」は繰り返しになる
- 「発売日」がない
- 「ディスク枚数」がない
- 要件「ディスクに対応して曲を管理できる」が行えない
- 「在庫数」を持っている
- 「ステータス(取り扱い)」では分かりづらい(要件に沿っていない)
## 決済・購入履歴・カート
- 要件「どの商品がいくつ、いくらで購入したか記録する」が行えない
- 「購入履歴」テーブルが存在する意味がわからない
- PKが「注文ID」となっていて、テーブル名と異なる
- 商品IDをFKとして持っているのに、「アーティスト名」・「ジャケット画像」・「シングル/アルバム名」がある
- 購入価格を持っていない
- 送料を持っていない
- カートとエンドユーザとの間にリレーションがない(FKもない)
- 要件「複数の商品を指定した数で購入するためのカートデータをもつ」が成り立っていない
- 一度の購入での合計金額を持っていない
- 「宛名」と「郵便番号」を持っていない
- 「"支払い方法"と"送付先"」を格納するテーブルの名前が「決済」だと、前者しか含んでいない
- 「カート」テーブルで「カートに入れた商品」と「実際に買った商品」を管理しようとしていると推測されるが、分けたほうが良い

# 指摘事項
## 全体
- リレーションが片方とはどういうことでしょうか？
- テーブル・リレーションは十分でしょうか？

## 商品
- ステータスが何を表すかがわかりづらいです。

## 決済
- 合計金額を格納するカラムがありません。
- カートとのリレーションはどのように利用しますか？
- 送付先住所はありますが、宛名と郵便番号を保持するカラムがありません。
- テーブル名と機能、役割があっていません。
