# ER図1
## 全体
- 入荷テーブルがない。
  > 入荷に関するデータはどこで取り扱いますか？
- 受注詳細テーブルがない。
  > 受注された商品の詳細はどこから確認できますか？
- Railsで自動で作成されるカラム(id, created_at, updated_at)を考慮してない。
  > Railsで自動で作成されるカラム(id, created_at, updated_at)に関しても考慮して記載してください。
   PKはテーブル名IDではなくIDとなります。
- 住所テーブルがない。住所には宛名カラムと郵便番号カラムも必要。
  > エンドユーザーが自分の住所以外に商品を送りたい場合はどうしますか？

## 管理人
- エンドユーザとのリレーションは必要か？
  > 管理人とエンドユーザがリレーションで繋がれていますが、エンドユーザに管理人の情報を持たせる必要はありますか？
- 商品テーブルとのリレーションは必要か？ 
  > 管理人と商品がリレーションで繋がれていますが、商品に管理人の情報を持たせる必要はありますか？

## エンドユーザ
- 論理削除を考慮していない。
  > ユーザを削除した場合、該当のレコードはどうなりますか？

## 決済
- テーブルの命名がおかしい。命名は管理者側の視点で行う。決済するのはエンドユーザ。注文を受けるのが管理者。
 「注文テーブル」と言った命名がベター。
  > テーブル名の命名は管理者側の視点で行なってください。
- 購入日カラムを持っている。これはタイムスタンプで自動生成される、作成時刻と内容が一致するため不要。
  > 購入日カラムとありますが、こちらRailsで自動作成されるカラムcreated_atと内容が一致するため不要です。
- 送料カラムがない。送料をデータとして持っておけば、送料が変更された場合でもコードの修正がへりベター。 
  > 送料カラムがありません。送料をデータとして持っておくと変更された場合にコードの修正が減るためあった方が良いです。
- 送料と同様の理由で消費税カラムがあってもいい。
  > 送料と同様の理由で消費税カラムもある方が良いです。
- 一つの注文につき、合計金額が保存できるカラムが必要。
  > 注文毎の合計金額はどこから確認できますか？
- カートカラムとのリレーションが存在してしまうと、商品がカートに入った瞬間、注文テーブルに情報が作成されることになってしまう。
  > カートと決済にはリレーションは不要です。
   この設計だと商品がカートに入った瞬間、決済テーブルに情報が作成されることになってしまいます。
- FKの注文IDとは？
  > FKに注文IDとありますが、注文テーブルが存在していません。
   また、こちらカートIDのことを指しているのであれば、上記レビューの理由から不要です。
- 送付先住所カラムはありますが、宛名と郵便番号は必要ではないですか？
  > 送付先住所カラムはありますが、宛名と郵便番号は必要ではないですか？

## 購入履歴
- PKが何か示されていない。
  > PKの欄が空白になっています。PKが何か示してください。
- 購入した商品について参照するテーブルなので、テーブルの命名を見直す必要あり。
  > こちら購入した商品の詳細について参照するテーブルではないでしょうか？
    もしそうであれば、テーブル名の命名を見直す必要があります。
- 購入時の商品の価格を保存するためのカラムが必要。
  > 購入した商品の情報はどこから確認できますか？
　　また、購入後に商品の情報が変更された場合はどうしますか？
- 商品ごとの購入数を管理したい。
  > 商品毎の購入枚数はどこから確認できますか？

## 商品
- 在庫数カラムとあるが、この値は（入荷数）ー（売上枚数）で算出される値。
 基本的にデータベースには計算ずみの値ではなく、計算前の値を保存させる。（同時計算による、エラーを防ぐため。）
  > 在庫数に関しては（入荷数）-（売上枚数）で算出できるため不要です。
    基本的にデータベースには計算ずみの値ではなく、計算前の値を保存してください。（同時計算による、エラーを防ぐため。）
- アーティスト名カラムは必要ですか？
- ジャンルカラムは必要ですか？
- レーベルカラムは必要ですか？
  > アーティスト名、ジャンル、レーベル名が変更された場合はどうしますか？
- 曲を複数保存したい場合はどうしますか？
  > 曲名が複数ある場合はどうしますか？
- １つの商品にディスクを複数保存したい場合はどうしますか？
  > １つの商品にディスクが複数枚ある場合はどうしますか？
- ステータスカラムがなにを意味しているか不明です。
  > ステータスカラムが何を意味しているのか不明です。カラムの命名を見直してください。

## カート
- PKにはそのテーブルのIDが入る。
  > PKは注文IDとは何でしょうか？PKにはそのテーブルのIDが入ります。
- 誰がカートに入れたか、というのをどうやって判定するのか。
  > 誰がカートに商品を入れたのかはどうやって判定しますか？
- このテーブルの役割はカートの中の商品を一つ一つ参照することであるから、テーブルの命名は「カート内商品」と言った名前がベター。
  > このテーブルの役割はカート内の商品を一つ一つ参照することなので、
    テーブルの命名はカート内商品とした方が良いです。
- 商品テーブルとリレーションを持たせているのであれば、その商品のアーティスト名やジャケット画像、アルバム名などのデータは
 引っ張ってくることができるので不要。
  > 商品とリレーションを持たせているため、アーティスト名、ジャケット画像、シングル/アルバム名は不要です。
- 合計金額カラムは計算済みの値なので不要。
  > 合計金額カラムは計算済みの値なので不要です。
