# ER図1
## 全体
- 指摘事項
- 管理人とユーザが関連している（問題点）
  > 管理人とユーザを関連させる必要はありますか？（レビュー）
- 管理人と商品が関連している（問題点）
  > 管理人と商品を関連させる必要はありますか？（レビュー）
- 商品とカートが1：多の関係になっている（問題点）
  > カートが一つ以上の商品を持っていない事も考えれますが、商品とカートは1：多の関係で、問題ないでしょうか？（レビュー）
- カートとユーザに関連がない（問題点）
  > カート内商品の選択は誰が行いますか？（レビュー）
- 入荷を管理する場所がない（問題点）
  > 入荷情報を保存しなくて大丈夫でしょうか？（レビュー）
- 複数の配送先を登録する場所がない（問題点）
  > ユーザは配送先を登録できないですが、問題ないでしょうか？（レビュー）
- 受注詳細テーブルがない（問題点）
  > 購入と商品を直接関連づけてしまうと、購入の正規化が上手くできないと思います。（レビュー）
- 作成日時がない（問題点）
  > 登録した日時を保存しなくて問題ないでしょうか？（レビュー）
- 更新日時がない（問題点）
  > 更新した日時を保存しなくて問題ないでしょうか？（レビュー）
- Railsで自動で作成されるカラム（id)を考慮されていない（問題点）
  > 主キーはRailsで自動で作成されるカラムなので、カラム名はidだけで大丈夫です。（レビュー）

## テーブル名
- 指摘事項
## ユーザ 
- 外部キーとして、管理人idを持っている（問題点）
  > 管理人idを持つ必要はありますでしょうか？（レビュー）
- 会員ステータスがない（問題点）
  > 退会したユーザと有効なユーザはどのように区別しますか？（レビュー）

## 購入
- 購入が注文個数を持ってしまっている（問題点）
  > 正規化は行えていますでしょうか？（レビュー）
- 配送先宛名がない（問題点）
  > 配送先宛名は保存しなくて問題ありませんか？（レビュー）
- 配送先郵便番号がない（問題点）
  > 配送先郵便番号は保存しなくて問題ありませんか？（レビュー）
- 購入日がある（問題点）
  > デフォルト登録した日時が保存されております。購入日を保存する必要はありますか？（レビュー）
- 送料が無い（問題点）
  > 送料は保存しなくて問題ありませんか？（レビュー）
- 配送ステータスがない（問題点）
  > 配送状況が分からないですが、問題ありませんか？（レビュー）
- 購入価格がない（問題点）
  > 購入時の価格は保存しなくて問題ありませんか？（レビュー）
- 合計金額を保存するカラムがない（問題点）
  > 合計金額は保存しましょう。（レビュー）
- テーブル名と役割が合っていない（問題点）
  > テーブル名から役割を推定しづらいです。（レビュー）
- カートテーブルとのリレーションは不必要（問題点）
  > カートテーブルにリレーションがありますが、購入前と購入後にデータを分けられないという問題が発生します。カートテーブルにリレーションは必要でしょうか？（レビュー）
- 商品IDがある（問題点）
  > 購入と商品を直接結んでしまって問題ありませんか？（レビュー）

## 商品
- ステータスが何を表しているか分かりにくい（問題点）
  > ステータスとありますが、何のステータスか明確にしましょう。（レビュー）
- カートテーブルとのリレーションが不要（問題点）
  > カートが一つ以上の商品を持っていない事も考えれますが、商品とカートは1：多の関係で、問題ないでしょうか？（レビュー）
- 複数枚のディスクが考慮されていない（問題点）
  > ディスクは１枚だけでしょうか？（レビュー）
- 税抜価格がない（問題点）
  > 要件から税抜価格は保存してなくて問題ありませんか？（レビュー）
- 税別価格がある（問題点）
  > 要件から税別価格は保存して問題ありませんか？（レビュー）
- 在庫数カラムがある（問題点）
  > 在庫数は入荷記録と受注詳細記録から算出されます。（レビュー）
- 論理削除が考慮されていない（問題点）
  > 商品を削除した場合、該当のレコードはどうなりますか？（レビュー）
- 属性にアーティスト名がある（問題点）
  > 属性としてアーティスト名を持ってしまっているので、正規化しましょう。（レビュー）
- 属性にレーベル名がある（問題点）
  > 属性としてレーベル名を持ってしまっているので、正規化しましょう。（レビュー）
- 属性にジャンル名がある（問題点）
  > 属性としてジャンル名を持ってしまっているので、正規化しましょう。（レビュー）
- 属性に曲名がある（問題点）
  > 属性として曲名を持ってしまっているので、正規化しましょう。（レビュー）

## 商品在庫関係
- 記載されていない（問題点）
  > 商品在庫関係は保存しなくても問題ありませんか？（レビュー）

## カート
- テーブルの命名が不適切（問題点）
  > このテーブルに保存するデータはカートの中にある一つ一つの商品のはずなので、カート内商品テーブルなどが適切です。（レビュー）
- どのユーザのカートなのかを判断できない（問題点）
  > どのユーザのカートなのかを判断できないですが、問題ありませんか？（レビュー）
- アーティスト名がある（問題点）
  > アーティスト名を保存する必要はありますか？（レビュー）
- ジャケット画像がある（問題点）
  > ジャケット画像を保存する必要はありますか？（レビュー）
- シングル/アルバム名がある（問題点）
  > シングル/アルバム名を保存する必要はありますか？（レビュー）
- 合計金額がある（問題点）
  > 合計金額を保存する必要はありますか？（レビュー）
- PKのカラム名（問題点）
  > PKのカラム名は適切でしょうか？（レビュー）

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

## レビュー1回目
## 全体
- 入荷を管理する場所がありません。
- 複数の配送先が考慮されていません。
- 受注詳細テーブルがありません。(購入テーブルを利用して購入履歴を確認するときに、購入した商品の情報(ジャケット画像やタイトルなど)を確認するために購入と商品のリレーションが必要になる + 購入と商品は多対多のため、中間テーブルが必要になる → 受注詳細テーブルの必要性)

## 商品
- ステータスが何を表しているかわかりづらいです。
- 複数枚ディスクが考慮されていません。
- 在庫数カラム計算結果(入荷 - 売上)のため、データとして保存するのに適していません。
- 論理削除が考慮されていません。

## 購入
- テーブル名と役割が合っていません。(管理者視点の命名が適切です。)
- カートテーブルとのリレーションは必要でしょうか？(購入前はカートにデータはあるが、購入にデータがないため、結びつけるものがなくなり、購入後はリレーションのため、カート内商品情報を削除できず、保存しておかなければいけません。)
- 合計金額を保存するカラムがありません。(合計金額は計算結果ですが、隣の隣のテーブルの価格をいちいち計算すると負荷がかかる + お金に関してのデータはキッチリ保存しておきたい)

## カート
- テーブル名の命名が不適切です。このテーブルに保存するデータはカートの中にある一つ一つの商品のはずなので、カート内商品テーブルなどが適切です。
- どのユーザーのカートであるのかをどのように判別しますか？

## レビュー2回目
- 指摘した点が加えられていなかったり、異なるテーブルに記述しているものがあります。

## レビュー３回目

## 全体
- Railsで自動で作成されるカラム（id)を考慮されていません。指摘をお願いします。

## 商品
- 「名カナ」カラムがあることは問題でしょうか。

- 合計金額を保存するカラムがない（問題点）ことは問題でしょうか。

## カート
- PKの名称の見直しをお願いします。

## 購入
- 購入テーブルに商品idは必要でしょうか。ご確認をお願いします。

## レビュー4回目
- 合格です
